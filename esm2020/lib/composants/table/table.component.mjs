import { Component, Input, ViewChild, EventEmitter, Output, } from '@angular/core';
import { MatPaginator } from '@angular/material/paginator';
import { MatSort } from '@angular/material/sort';
import { MatTableDataSource } from '@angular/material/table';
import { SelectionModel } from '@angular/cdk/collections';
import * as i0 from "@angular/core";
import * as i1 from "@angular/material/table";
import * as i2 from "@angular/material/sort";
import * as i3 from "@angular/material/checkbox";
import * as i4 from "@angular/material/button";
import * as i5 from "@angular/material/radio";
import * as i6 from "@angular/material/paginator";
import * as i7 from "@angular/common";
export class TableComponent {
    constructor() {
        /** pagination affiche l bouton debut/fin   */
        this.showFirstLastButtons = true;
        /** pagination valeur contenu par page   */
        this.pageSizeOptions = [5, 10, 20];
        /** header afficher parmis le contenu de data */
        this.header = [];
        /**liste des bouton */
        this.listbtn = [];
        /** nom header pour les bouton*/
        this.libelleActionBtn = 'Actions';
        /** évènenment sort */
        this._sort = new EventEmitter();
        /** évènenment paginator */
        this._pageEvent = new EventEmitter();
        /** choix utiliser entre checkbox ou radio btn */
        this.checkboxOrRadio = undefined;
        /** couleur utilisé sur checkbox ou radio btn */
        this.checkboxColor = 'primary';
        /** évènenment radiobtn select element */
        this.selectvalue = new EventEmitter();
        // Afficer Pagination
        this.hasPaginator = true;
        // Gestion status
        this.hasStatus = '';
        // Status Class
        this.classSatuts = '';
        /** évènenment Action click */
        this.ClickEventValue = new EventEmitter();
        /** évenement bouton dans la table*/
        this.ligne = new EventEmitter();
        /** text pour la langue */
        this.language = {
            itemsPerPageLabel: 'Items per page:',
            nextPageLabel: 'Next page',
            previousPageLabel: 'Previous page',
            firstPageLabel: 'First page',
            lastPageLabel: 'Last page',
        };
        this.headerColumn = [];
        this.selection = new SelectionModel(true, []);
        /** redefinition de getRangeLabel dans paginator */
        this.getRangeLabel = (page, pageSize, length) => {
            this.totalData = this.totalData ? this.totalData : this.paginator.length;
            this.pageIndex = this.pageIndex ? this.pageIndex : this.paginator.pageIndex;
            this.pageSize = this.pageSize ? this.pageSize : this.paginator.pageSize;
            if (this.totalData === 0 || this.pageSize === 0) {
                return `javascript">0 / ${this.totalData}`;
            }
            this.totalData = Math.max(this.totalData, 0);
            const startIndex = page * +this.pageSize;
            const endIndex = startIndex < this.totalData
                ? Math.min(startIndex + this.pageSize, this.totalData)
                : startIndex + this.pageSize;
            return `${startIndex + 1} - ${endIndex} / ${+this.totalData}`;
        };
    }
    ngAfterViewInit() {
        setTimeout(() => {
            this.dataSource = new MatTableDataSource(this.data);
            this.dataSource.paginator = this.paginator;
            this.dataSource.sort = this.sort;
            /** initialise l'affichage des texte */
            this.initTextPagination();
            /** initialise le contenu du tableau */
            this.initContenu();
        });
    }
    ngOnInit() { }
    initContenu() {
        /** test si les données reçu ne sont pas vide */
        if (this.dataSource.data.length > 0) {
            /** test si le header type EnteteData a été initialiser */
            if (!this.header.length) {
                this.header = Object.keys(this.dataSource.data[0]).map((e) => {
                    return { libelle: e, propertyname: e };
                });
            }
            // if (this.showClasicBtn) {
            //   /** Ajout colonne Action si bouton clasic est actif */
            //   this.header.push({
            //     libelle: this.libelleActionBtn,
            //     propertyname: '',
            //   });
            // }
            if (this.listbtn.length) {
                /** Ajout colonne Action si un bouton est actif */
                this.header.push({
                    libelle: this.libelleActionBtn,
                    propertyname: '',
                });
            }
            /** Ajout select dans libelle */
            if (this.checkboxOrRadio) {
                this.header.unshift({ libelle: 'select', propertyname: '' });
            }
            /** affectation libelle dans headerColumn */
            this.headerColumn = this.header.map((col) => col.libelle);
        }
    }
    /** initialisation affichage langue et pagination */
    initTextPagination() {
        this.paginator._intl.firstPageLabel = this.language.firstPageLabel;
        this.paginator._intl.itemsPerPageLabel = this.language.itemsPerPageLabel;
        this.paginator._intl.lastPageLabel = this.language.lastPageLabel;
        this.paginator._intl.nextPageLabel = this.language.nextPageLabel;
        this.paginator._intl.previousPageLabel = this.language.previousPageLabel;
        this.paginator._intl.getRangeLabel = this.getRangeLabel;
    }
    /** sort data */
    sortChange(sortState) {
        this._sort.emit(sortState);
    }
    /** event paginate */
    pageEvent(event) {
        this._pageEvent.emit(event);
    }
    /** Indique si le nombre d'éléments sélectionnés correspond au nombre total de lignes.
     */
    isAllSelected() {
        const numSelected = this.selection.selected.length;
        const numRows = this.dataSource.data.length;
        return numSelected === numRows;
    }
    /** Selectionne tous les ligne si il ne sont pas tous selectionner; sinon deselectionne touts */
    masterToggle() {
        if (this.isAllSelected()) {
            this.selection.clear();
            this.selectRow(this.selection.selected);
            return;
        }
        this.selection.select(...this.dataSource.data);
        this.selectRow(this.selection.selected);
    }
    /** Le libellé de la case à cocher sur la ligne transmise */
    checkboxLabel(row) {
        var result;
        if (!row) {
            result = `${this.isAllSelected() ? 'deselect' : 'select'} all`;
        }
        else {
            result = `${this.selection.isSelected(row) ? 'deselect' : 'select'} row ${row.position + 1}`;
        }
        this.selectRow(this.selection.selected);
        return result;
    }
    /** retourn la liste selectionner */
    selectRow(value) {
        this.selectvalue.emit(value);
    }
    /** test header action libelle */
    isAction(item) {
        return item === this.libelleActionBtn;
    }
    /** test header select libelle */
    isSelect(item) {
        return item === 'select';
    }
    /** test si checkbox utilisé ou false radio */
    isCheckbox() {
        return this.checkboxOrRadio === 'checkbox';
    }
    /** selection element sur click de la ligne */
    checkLine(row, index) {
        if (!this.isCheckbox() && this.checkboxOrRadio) {
            this.radioSelected = row;
            this.selectRow(row);
        }
        else if (this.checkboxOrRadio) {
            this.selection.toggle(row);
        }
    }
    EventClickBtn(event) {
        this.ClickEventValue.emit(event);
    }
    getLine(txt, value) {
        this.ligne.emit({
            function: txt,
            value: value,
        });
    }
}
TableComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.3.11", ngImport: i0, type: TableComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });
TableComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "13.3.11", type: TableComponent, selector: "igy-table", inputs: { data: "data", showFirstLastButtons: "showFirstLastButtons", pageSizeOptions: "pageSizeOptions", totalData: "totalData", pageSize: "pageSize", pageIndex: "pageIndex", header: "header", listbtn: "listbtn", libelleActionBtn: "libelleActionBtn", checkboxOrRadio: "checkboxOrRadio", checkboxColor: "checkboxColor", hasPaginator: "hasPaginator", hasStatus: "hasStatus", classSatuts: "classSatuts", language: "language" }, outputs: { _sort: "_sort", _pageEvent: "_pageEvent", selectvalue: "selectvalue", ClickEventValue: "ClickEventValue", ligne: "ligne" }, viewQueries: [{ propertyName: "paginator", first: true, predicate: MatPaginator, descendants: true }, { propertyName: "sort", first: true, predicate: MatSort, descendants: true }], ngImport: i0, template: "<div class=\"igy-table\">\r\n  <table mat-table [dataSource]=\"dataSource\" matSort (matSortChange)=\"sortChange($event)\">\r\n    <ng-container [matColumnDef]=\"item.libelle\" *ngFor=\"let item of header; let i = index\">\r\n      <th mat-header-cell mat-sort-header *matHeaderCellDef\r\n        [disabled]=\"isAction(item.libelle) || isSelect(item.libelle)\"\r\n        [ngClass]=\"{ 'col-action-cnt': item.libelle === libelleActionBtn }\">\r\n        <span *ngIf=\"!isSelect(item.libelle); else checkboxheader\">{{\r\n          item.libelle\r\n          }}</span>\r\n        <ng-template #checkboxheader>\r\n          <ng-container *ngIf=\"isCheckbox()\">\r\n            <mat-checkbox (change)=\"$event ? masterToggle() : null\" [checked]=\"selection.hasValue() && isAllSelected()\"\r\n              [color]=\"checkboxColor\" [indeterminate]=\"selection.hasValue() && !isAllSelected()\"\r\n              [aria-label]=\"checkboxLabel()\">\r\n            </mat-checkbox>\r\n          </ng-container>\r\n        </ng-template>\r\n      </th>\r\n      <td mat-cell *matCellDef=\"let element; let rowIndex = index\"\r\n        [ngClass]=\"{ 'col-action-cnt': item.libelle === libelleActionBtn }\">\r\n        <span *ngIf=\"!isAction(item.libelle) && !isSelect(item.libelle); else autre\" [ngClass]=\"item.libelle === hasStatus ? classSatuts : ''\">\r\n          {{ element[item.propertyname] }}\r\n        </span>\r\n        <ng-template #autre>\r\n          <ng-container *ngIf=\"isAction(item.libelle); else checkboxRadio\">\r\n            <button mat-button class=\"table-btn\" [ngClass]=\"btn.class\" [color]=\"btn.color\" (click)=\"getLine(btn.action, element)\"\r\n              *ngFor=\"let btn of listbtn; let j = index\">\r\n              <span class=\"material-icons\" *ngIf=\"!btn.istext\">{{ btn.iconName }}</span>\r\n              <span *ngIf=\"btn.istext\" class=\"{{btn.class}}\">{{ btn.iconName }}</span>\r\n            </button>\r\n          </ng-container>\r\n          <ng-template #checkboxRadio>\r\n            <ng-container *ngIf=\"isCheckbox()\">\r\n              <mat-checkbox (click)=\"$event.stopPropagation()\" (change)=\"$event ? selection.toggle(element) : null\"\r\n                [color]=\"checkboxColor\" [checked]=\"selection.isSelected(element)\" [aria-label]=\"checkboxLabel(element)\">\r\n              </mat-checkbox>\r\n            </ng-container>\r\n            <ng-container *ngIf=\"!isCheckbox()\">\r\n              <mat-radio-button [color]=\"checkboxColor\" name=\"SelectionRadio\" [value]=\"element\"\r\n                (click)=\"selectRow(element)\" (change)=\"$event ? (radioSelected = $event.value) : null\"\r\n                [checked]=\"element == radioSelected\">\r\n              </mat-radio-button>\r\n            </ng-container>\r\n          </ng-template>\r\n        </ng-template>\r\n      </td>\r\n    </ng-container>\r\n\r\n    <tr mat-header-row *matHeaderRowDef=\"headerColumn\"></tr>\r\n    <tr mat-row *matRowDef=\"let row; let rowIndex = index; columns: headerColumn\" (click)=\"checkLine(row, rowIndex)\">\r\n    </tr>\r\n  </table>\r\n  <mat-paginator [pageSizeOptions]=\"pageSizeOptions\" [showFirstLastButtons]=\"showFirstLastButtons\" [length]=\"totalData\"\r\n    [pageSize]=\"pageSize\" [pageIndex]=\"pageIndex\" (page)=\"pageEvent($event)\" *ngIf=\"hasPaginator\">\r\n  </mat-paginator>\r\n</div>\r\n", styles: ["@import\"https://fonts.googleapis.com/css2?family=Inter:wght@100;300;400;500;700&family=Lato:ital,wght@0,100;0,300;0,400;0,700;1,100&family=Montserrat:wght@100;200;300;400;500;600;700&family=Permanent+Marker&family=Poppins:wght@100;300;400;500;600;700&family=Raleway:wght@100;200;300;400;500;600;700&family=Roboto+Condensed:wght@300;400;700&display=swap\";@font-face{font-family:Material Icons;font-style:normal;font-weight:400;font-display:block;src:url(./material-icons.woff2) format(\"woff2\"),url(./material-icons.woff) format(\"woff\")}.material-icons{font-family:Material Icons;font-weight:400;font-style:normal;font-size:24px;line-height:1;letter-spacing:normal;text-transform:none;display:inline-block;white-space:nowrap;word-wrap:normal;direction:ltr;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-rendering:optimizeLegibility;font-feature-settings:\"liga\"}@font-face{font-family:Material Icons Outlined;font-style:normal;font-weight:400;font-display:block;src:url(./material-icons-outlined.woff2) format(\"woff2\"),url(./material-icons-outlined.woff) format(\"woff\")}.material-icons-outlined{font-family:Material Icons Outlined;font-weight:400;font-style:normal;font-size:24px;line-height:1;letter-spacing:normal;text-transform:none;display:inline-block;white-space:nowrap;word-wrap:normal;direction:ltr;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-rendering:optimizeLegibility;font-feature-settings:\"liga\"}@font-face{font-family:Material Icons Round;font-style:normal;font-weight:400;font-display:block;src:url(./material-icons-round.woff2) format(\"woff2\"),url(./material-icons-round.woff) format(\"woff\")}.material-icons-round{font-family:Material Icons Round;font-weight:400;font-style:normal;font-size:24px;line-height:1;letter-spacing:normal;text-transform:none;display:inline-block;white-space:nowrap;word-wrap:normal;direction:ltr;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-rendering:optimizeLegibility;font-feature-settings:\"liga\"}@font-face{font-family:Material Icons Sharp;font-style:normal;font-weight:400;font-display:block;src:url(./material-icons-sharp.woff2) format(\"woff2\"),url(./material-icons-sharp.woff) format(\"woff\")}.material-icons-sharp{font-family:Material Icons Sharp;font-weight:400;font-style:normal;font-size:24px;line-height:1;letter-spacing:normal;text-transform:none;display:inline-block;white-space:nowrap;word-wrap:normal;direction:ltr;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-rendering:optimizeLegibility;font-feature-settings:\"liga\"}@font-face{font-family:Material Icons Two Tone;font-style:normal;font-weight:400;font-display:block;src:url(./material-icons-two-tone.woff2) format(\"woff2\"),url(./material-icons-two-tone.woff) format(\"woff\")}.material-icons-two-tone{font-family:Material Icons Two Tone;font-weight:400;font-style:normal;font-size:24px;line-height:1;letter-spacing:normal;text-transform:none;display:inline-block;white-space:nowrap;word-wrap:normal;direction:ltr;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-rendering:optimizeLegibility;font-feature-settings:\"liga\"}.fx-align-center{width:inherit;display:flex;justify-content:center}.fx-align-left{width:inherit;display:flex;justify-content:flex-start}.fx-align-right{width:inherit;display:flex;justify-content:flex-end}.bg-card-green{background:rgba(227,247,225,.2);box-shadow:0 4px 4px #00000040}.bg-card-orange{background:#FF6633;box-shadow:0 4px 4px #00000040}.bg-card-gray{background:#f4f4f4;box-shadow:0 4px 4px #00000040}.bg-card-gray-2{background:#f8f8f8;box-shadow:0 4px 4px #00000040}.bg-card-yellow{background:#fff5de;box-shadow:0 4px 4px #00000040}.scroller{scrollbar-width:thin;scrollbar-color:#93989d;cursor:pointer}.scroller::-webkit-scrollbar{width:8px;height:8px;cursor:pointer}.scroller::-webkit-scrollbar-track{background-color:transparent;border-radius:10px;cursor:pointer}.scroller::-webkit-scrollbar-thumb{background-color:#93989d;box-shadow:inset 0 0 8px #0000004d;border-radius:10px;cursor:pointer}h1{font-family:Montserrat,sans-serif;font-style:normal;font-weight:700;font-size:24px;line-height:20px;background:linear-gradient(90deg,#800080 27.6%,#FF6633 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;padding-bottom:20px}h2{font-family:Montserrat,sans-serif;font-style:normal;font-weight:700;font-size:20px;line-height:20px}h3{font-family:Montserrat,sans-serif;font-style:normal;font-weight:700;font-size:18px;line-height:20px}h4{font-family:Montserrat,sans-serif;font-style:normal;font-weight:700;font-size:16px;line-height:20px}h5{font-family:Montserrat,sans-serif;font-style:normal;font-weight:700;font-size:14px;line-height:20px}P,div{font-family:Montserrat,sans-serif;font-style:normal;font-weight:400;font-size:14px;line-height:20px}span{font-family:Montserrat,sans-serif;font-style:normal;font-weight:400;font-size:12px;line-height:20px}a{font-family:Montserrat,sans-serif;font-style:normal;font-weight:400;font-size:12px;line-height:20px;text-decoration:none;cursor:pointer}label{font-family:Montserrat,sans-serif;font-style:normal;font-weight:600;font-size:12px;line-height:20px}button{outline:none}button:hover{outline:none;background:transparent;box-shadow:none}.cnt-form-action{display:flex;justify-content:flex-end}.cnt-form-action>igy-button{margin-left:15px}.igy-card{background:#ffffff;border-radius:10px;box-shadow:0 16px 24px #0000000f,0 2px 6px #0000000a,0 0 1px #0000000a}.primary-btn{background-color:#0cb465;border-color:#0cb465;color:#fff;box-shadow:none;border:none;height:35px;width:inherit}:host ::ng-deep .igy-table{margin-bottom:50px}:host ::ng-deep .igy-table .mat-table{width:100%;background:transparent}:host ::ng-deep .igy-table .mat-table .mat-header-row{height:32px;background:#320032}:host ::ng-deep .igy-table .mat-table .mat-header-cell{font-family:Montserrat,sans-serif;font-weight:700;font-size:12px;line-height:20px;color:#00341c;font-style:normal;align-items:center;letter-spacing:.25px;padding-top:8px;padding-bottom:8px;padding-left:15px}:host ::ng-deep .igy-table .mat-table .mat-header-cell .mat-sort-header-content>span{font-family:Montserrat,sans-serif;font-style:normal;font-weight:700;font-size:12px;line-height:20px;color:#fff}:host ::ng-deep .igy-table .mat-table .mat-row{height:38px}:host ::ng-deep .igy-table .mat-table .mat-row .mat-cell{font-family:Montserrat,sans-serif;font-style:normal;font-weight:400;font-size:14px;line-height:45px;color:#b1b1b1;padding-left:15px}:host ::ng-deep .igy-table .mat-table .mat-row:last-child .mat-cell{border-bottom:none}:host ::ng-deep .igy-table .mat-table .col-action-cnt{text-align:center;min-width:150px}:host ::ng-deep .igy-table .mat-table .col-action-cnt .mat-sort-header-container{justify-content:center;padding:0 15px}:host ::ng-deep .igy-table .mat-table .table-btn{background:transparent;border:none;margin:0 5px;width:auto;box-shadow:none;padding:0}:host ::ng-deep .igy-table .mat-table .table-btn.delete .material-icons{color:red}:host ::ng-deep .igy-table .mat-table .table-btn.edit .material-icons{color:#f63}:host ::ng-deep .igy-table .mat-table .table-btn.add .material-icons{color:purple}:host ::ng-deep .mat-paginator-container{min-width:500px;align-items:center;align-content:center;margin:initial;margin-left:auto}:host ::ng-deep .mat-paginator-container .mat-form-field-wrapper{padding-bottom:0}:host ::ng-deep .mat-paginator-container .mat-form-field-wrapper .mat-form-field-underline{display:none}:host ::ng-deep .mat-paginator-container .mat-form-field-infix{background:#FF6633;padding:0;border-top:none;text-align:center;border:none;margin-bottom:5px}:host ::ng-deep .mat-paginator-container .mat-icon-button{height:30px;margin-bottom:10px}:host ::ng-deep .mat-paginator-container .mat-paginator-page-size{align-items:center}:host ::ng-deep .mat-paginator-container .mat-paginator-page-size-label,:host ::ng-deep .mat-paginator-container .mat-paginator-range-label{font-family:Montserrat,sans-serif;font-style:normal;font-weight:400;font-size:14px;line-height:45px;color:#b1b1b1}:host ::ng-deep .mat-paginator-container .mat-select-value{font-family:Montserrat,sans-serif;font-style:normal;font-weight:400;font-size:14px;line-height:24px;color:#b1b1b1}:host ::ng-deep .mat-paginator-container .mat-paginator-icon{width:24px}.btn-standard{box-shadow:1px 3px 4px #00000040;border:none;font-style:normal;font-weight:500;font-size:14px;line-height:16px;align-items:center;padding:5px 10px;margin:auto}.btn-standard.blue{background:#4482b3;color:#fff}.btn-standard.green{background:#50bd61;color:#fff}.btn-standard.magenta{background:#800080;color:#fff}.btn-standard.orange{background:#FF6633;color:#fff}\n"], components: [{ type: i1.MatTable, selector: "mat-table, table[mat-table]", exportAs: ["matTable"] }, { type: i2.MatSortHeader, selector: "[mat-sort-header]", inputs: ["disabled", "mat-sort-header", "arrowPosition", "start", "sortActionDescription", "disableClear"], exportAs: ["matSortHeader"] }, { type: i3.MatCheckbox, selector: "mat-checkbox", inputs: ["disableRipple", "color", "tabIndex", "aria-label", "aria-labelledby", "aria-describedby", "id", "required", "labelPosition", "name", "value", "checked", "disabled", "indeterminate"], outputs: ["change", "indeterminateChange"], exportAs: ["matCheckbox"] }, { type: i4.MatButton, selector: "button[mat-button], button[mat-raised-button], button[mat-icon-button],             button[mat-fab], button[mat-mini-fab], button[mat-stroked-button],             button[mat-flat-button]", inputs: ["disabled", "disableRipple", "color"], exportAs: ["matButton"] }, { type: i5.MatRadioButton, selector: "mat-radio-button", inputs: ["disableRipple", "tabIndex"], exportAs: ["matRadioButton"] }, { type: i1.MatHeaderRow, selector: "mat-header-row, tr[mat-header-row]", exportAs: ["matHeaderRow"] }, { type: i1.MatRow, selector: "mat-row, tr[mat-row]", exportAs: ["matRow"] }, { type: i6.MatPaginator, selector: "mat-paginator", inputs: ["disabled"], exportAs: ["matPaginator"] }], directives: [{ type: i2.MatSort, selector: "[matSort]", inputs: ["matSortDisabled", "matSortActive", "matSortStart", "matSortDirection", "matSortDisableClear"], outputs: ["matSortChange"], exportAs: ["matSort"] }, { type: i7.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { type: i1.MatColumnDef, selector: "[matColumnDef]", inputs: ["sticky", "matColumnDef"] }, { type: i1.MatHeaderCellDef, selector: "[matHeaderCellDef]" }, { type: i1.MatHeaderCell, selector: "mat-header-cell, th[mat-header-cell]" }, { type: i7.NgClass, selector: "[ngClass]", inputs: ["class", "ngClass"] }, { type: i7.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { type: i1.MatCellDef, selector: "[matCellDef]" }, { type: i1.MatCell, selector: "mat-cell, td[mat-cell]" }, { type: i1.MatHeaderRowDef, selector: "[matHeaderRowDef]", inputs: ["matHeaderRowDef", "matHeaderRowDefSticky"] }, { type: i1.MatRowDef, selector: "[matRowDef]", inputs: ["matRowDefColumns", "matRowDefWhen"] }] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.3.11", ngImport: i0, type: TableComponent, decorators: [{
            type: Component,
            args: [{ selector: 'igy-table', template: "<div class=\"igy-table\">\r\n  <table mat-table [dataSource]=\"dataSource\" matSort (matSortChange)=\"sortChange($event)\">\r\n    <ng-container [matColumnDef]=\"item.libelle\" *ngFor=\"let item of header; let i = index\">\r\n      <th mat-header-cell mat-sort-header *matHeaderCellDef\r\n        [disabled]=\"isAction(item.libelle) || isSelect(item.libelle)\"\r\n        [ngClass]=\"{ 'col-action-cnt': item.libelle === libelleActionBtn }\">\r\n        <span *ngIf=\"!isSelect(item.libelle); else checkboxheader\">{{\r\n          item.libelle\r\n          }}</span>\r\n        <ng-template #checkboxheader>\r\n          <ng-container *ngIf=\"isCheckbox()\">\r\n            <mat-checkbox (change)=\"$event ? masterToggle() : null\" [checked]=\"selection.hasValue() && isAllSelected()\"\r\n              [color]=\"checkboxColor\" [indeterminate]=\"selection.hasValue() && !isAllSelected()\"\r\n              [aria-label]=\"checkboxLabel()\">\r\n            </mat-checkbox>\r\n          </ng-container>\r\n        </ng-template>\r\n      </th>\r\n      <td mat-cell *matCellDef=\"let element; let rowIndex = index\"\r\n        [ngClass]=\"{ 'col-action-cnt': item.libelle === libelleActionBtn }\">\r\n        <span *ngIf=\"!isAction(item.libelle) && !isSelect(item.libelle); else autre\" [ngClass]=\"item.libelle === hasStatus ? classSatuts : ''\">\r\n          {{ element[item.propertyname] }}\r\n        </span>\r\n        <ng-template #autre>\r\n          <ng-container *ngIf=\"isAction(item.libelle); else checkboxRadio\">\r\n            <button mat-button class=\"table-btn\" [ngClass]=\"btn.class\" [color]=\"btn.color\" (click)=\"getLine(btn.action, element)\"\r\n              *ngFor=\"let btn of listbtn; let j = index\">\r\n              <span class=\"material-icons\" *ngIf=\"!btn.istext\">{{ btn.iconName }}</span>\r\n              <span *ngIf=\"btn.istext\" class=\"{{btn.class}}\">{{ btn.iconName }}</span>\r\n            </button>\r\n          </ng-container>\r\n          <ng-template #checkboxRadio>\r\n            <ng-container *ngIf=\"isCheckbox()\">\r\n              <mat-checkbox (click)=\"$event.stopPropagation()\" (change)=\"$event ? selection.toggle(element) : null\"\r\n                [color]=\"checkboxColor\" [checked]=\"selection.isSelected(element)\" [aria-label]=\"checkboxLabel(element)\">\r\n              </mat-checkbox>\r\n            </ng-container>\r\n            <ng-container *ngIf=\"!isCheckbox()\">\r\n              <mat-radio-button [color]=\"checkboxColor\" name=\"SelectionRadio\" [value]=\"element\"\r\n                (click)=\"selectRow(element)\" (change)=\"$event ? (radioSelected = $event.value) : null\"\r\n                [checked]=\"element == radioSelected\">\r\n              </mat-radio-button>\r\n            </ng-container>\r\n          </ng-template>\r\n        </ng-template>\r\n      </td>\r\n    </ng-container>\r\n\r\n    <tr mat-header-row *matHeaderRowDef=\"headerColumn\"></tr>\r\n    <tr mat-row *matRowDef=\"let row; let rowIndex = index; columns: headerColumn\" (click)=\"checkLine(row, rowIndex)\">\r\n    </tr>\r\n  </table>\r\n  <mat-paginator [pageSizeOptions]=\"pageSizeOptions\" [showFirstLastButtons]=\"showFirstLastButtons\" [length]=\"totalData\"\r\n    [pageSize]=\"pageSize\" [pageIndex]=\"pageIndex\" (page)=\"pageEvent($event)\" *ngIf=\"hasPaginator\">\r\n  </mat-paginator>\r\n</div>\r\n", styles: ["@import\"https://fonts.googleapis.com/css2?family=Inter:wght@100;300;400;500;700&family=Lato:ital,wght@0,100;0,300;0,400;0,700;1,100&family=Montserrat:wght@100;200;300;400;500;600;700&family=Permanent+Marker&family=Poppins:wght@100;300;400;500;600;700&family=Raleway:wght@100;200;300;400;500;600;700&family=Roboto+Condensed:wght@300;400;700&display=swap\";@font-face{font-family:Material Icons;font-style:normal;font-weight:400;font-display:block;src:url(./material-icons.woff2) format(\"woff2\"),url(./material-icons.woff) format(\"woff\")}.material-icons{font-family:Material Icons;font-weight:400;font-style:normal;font-size:24px;line-height:1;letter-spacing:normal;text-transform:none;display:inline-block;white-space:nowrap;word-wrap:normal;direction:ltr;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-rendering:optimizeLegibility;font-feature-settings:\"liga\"}@font-face{font-family:Material Icons Outlined;font-style:normal;font-weight:400;font-display:block;src:url(./material-icons-outlined.woff2) format(\"woff2\"),url(./material-icons-outlined.woff) format(\"woff\")}.material-icons-outlined{font-family:Material Icons Outlined;font-weight:400;font-style:normal;font-size:24px;line-height:1;letter-spacing:normal;text-transform:none;display:inline-block;white-space:nowrap;word-wrap:normal;direction:ltr;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-rendering:optimizeLegibility;font-feature-settings:\"liga\"}@font-face{font-family:Material Icons Round;font-style:normal;font-weight:400;font-display:block;src:url(./material-icons-round.woff2) format(\"woff2\"),url(./material-icons-round.woff) format(\"woff\")}.material-icons-round{font-family:Material Icons Round;font-weight:400;font-style:normal;font-size:24px;line-height:1;letter-spacing:normal;text-transform:none;display:inline-block;white-space:nowrap;word-wrap:normal;direction:ltr;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-rendering:optimizeLegibility;font-feature-settings:\"liga\"}@font-face{font-family:Material Icons Sharp;font-style:normal;font-weight:400;font-display:block;src:url(./material-icons-sharp.woff2) format(\"woff2\"),url(./material-icons-sharp.woff) format(\"woff\")}.material-icons-sharp{font-family:Material Icons Sharp;font-weight:400;font-style:normal;font-size:24px;line-height:1;letter-spacing:normal;text-transform:none;display:inline-block;white-space:nowrap;word-wrap:normal;direction:ltr;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-rendering:optimizeLegibility;font-feature-settings:\"liga\"}@font-face{font-family:Material Icons Two Tone;font-style:normal;font-weight:400;font-display:block;src:url(./material-icons-two-tone.woff2) format(\"woff2\"),url(./material-icons-two-tone.woff) format(\"woff\")}.material-icons-two-tone{font-family:Material Icons Two Tone;font-weight:400;font-style:normal;font-size:24px;line-height:1;letter-spacing:normal;text-transform:none;display:inline-block;white-space:nowrap;word-wrap:normal;direction:ltr;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-rendering:optimizeLegibility;font-feature-settings:\"liga\"}.fx-align-center{width:inherit;display:flex;justify-content:center}.fx-align-left{width:inherit;display:flex;justify-content:flex-start}.fx-align-right{width:inherit;display:flex;justify-content:flex-end}.bg-card-green{background:rgba(227,247,225,.2);box-shadow:0 4px 4px #00000040}.bg-card-orange{background:#FF6633;box-shadow:0 4px 4px #00000040}.bg-card-gray{background:#f4f4f4;box-shadow:0 4px 4px #00000040}.bg-card-gray-2{background:#f8f8f8;box-shadow:0 4px 4px #00000040}.bg-card-yellow{background:#fff5de;box-shadow:0 4px 4px #00000040}.scroller{scrollbar-width:thin;scrollbar-color:#93989d;cursor:pointer}.scroller::-webkit-scrollbar{width:8px;height:8px;cursor:pointer}.scroller::-webkit-scrollbar-track{background-color:transparent;border-radius:10px;cursor:pointer}.scroller::-webkit-scrollbar-thumb{background-color:#93989d;box-shadow:inset 0 0 8px #0000004d;border-radius:10px;cursor:pointer}h1{font-family:Montserrat,sans-serif;font-style:normal;font-weight:700;font-size:24px;line-height:20px;background:linear-gradient(90deg,#800080 27.6%,#FF6633 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;padding-bottom:20px}h2{font-family:Montserrat,sans-serif;font-style:normal;font-weight:700;font-size:20px;line-height:20px}h3{font-family:Montserrat,sans-serif;font-style:normal;font-weight:700;font-size:18px;line-height:20px}h4{font-family:Montserrat,sans-serif;font-style:normal;font-weight:700;font-size:16px;line-height:20px}h5{font-family:Montserrat,sans-serif;font-style:normal;font-weight:700;font-size:14px;line-height:20px}P,div{font-family:Montserrat,sans-serif;font-style:normal;font-weight:400;font-size:14px;line-height:20px}span{font-family:Montserrat,sans-serif;font-style:normal;font-weight:400;font-size:12px;line-height:20px}a{font-family:Montserrat,sans-serif;font-style:normal;font-weight:400;font-size:12px;line-height:20px;text-decoration:none;cursor:pointer}label{font-family:Montserrat,sans-serif;font-style:normal;font-weight:600;font-size:12px;line-height:20px}button{outline:none}button:hover{outline:none;background:transparent;box-shadow:none}.cnt-form-action{display:flex;justify-content:flex-end}.cnt-form-action>igy-button{margin-left:15px}.igy-card{background:#ffffff;border-radius:10px;box-shadow:0 16px 24px #0000000f,0 2px 6px #0000000a,0 0 1px #0000000a}.primary-btn{background-color:#0cb465;border-color:#0cb465;color:#fff;box-shadow:none;border:none;height:35px;width:inherit}:host ::ng-deep .igy-table{margin-bottom:50px}:host ::ng-deep .igy-table .mat-table{width:100%;background:transparent}:host ::ng-deep .igy-table .mat-table .mat-header-row{height:32px;background:#320032}:host ::ng-deep .igy-table .mat-table .mat-header-cell{font-family:Montserrat,sans-serif;font-weight:700;font-size:12px;line-height:20px;color:#00341c;font-style:normal;align-items:center;letter-spacing:.25px;padding-top:8px;padding-bottom:8px;padding-left:15px}:host ::ng-deep .igy-table .mat-table .mat-header-cell .mat-sort-header-content>span{font-family:Montserrat,sans-serif;font-style:normal;font-weight:700;font-size:12px;line-height:20px;color:#fff}:host ::ng-deep .igy-table .mat-table .mat-row{height:38px}:host ::ng-deep .igy-table .mat-table .mat-row .mat-cell{font-family:Montserrat,sans-serif;font-style:normal;font-weight:400;font-size:14px;line-height:45px;color:#b1b1b1;padding-left:15px}:host ::ng-deep .igy-table .mat-table .mat-row:last-child .mat-cell{border-bottom:none}:host ::ng-deep .igy-table .mat-table .col-action-cnt{text-align:center;min-width:150px}:host ::ng-deep .igy-table .mat-table .col-action-cnt .mat-sort-header-container{justify-content:center;padding:0 15px}:host ::ng-deep .igy-table .mat-table .table-btn{background:transparent;border:none;margin:0 5px;width:auto;box-shadow:none;padding:0}:host ::ng-deep .igy-table .mat-table .table-btn.delete .material-icons{color:red}:host ::ng-deep .igy-table .mat-table .table-btn.edit .material-icons{color:#f63}:host ::ng-deep .igy-table .mat-table .table-btn.add .material-icons{color:purple}:host ::ng-deep .mat-paginator-container{min-width:500px;align-items:center;align-content:center;margin:initial;margin-left:auto}:host ::ng-deep .mat-paginator-container .mat-form-field-wrapper{padding-bottom:0}:host ::ng-deep .mat-paginator-container .mat-form-field-wrapper .mat-form-field-underline{display:none}:host ::ng-deep .mat-paginator-container .mat-form-field-infix{background:#FF6633;padding:0;border-top:none;text-align:center;border:none;margin-bottom:5px}:host ::ng-deep .mat-paginator-container .mat-icon-button{height:30px;margin-bottom:10px}:host ::ng-deep .mat-paginator-container .mat-paginator-page-size{align-items:center}:host ::ng-deep .mat-paginator-container .mat-paginator-page-size-label,:host ::ng-deep .mat-paginator-container .mat-paginator-range-label{font-family:Montserrat,sans-serif;font-style:normal;font-weight:400;font-size:14px;line-height:45px;color:#b1b1b1}:host ::ng-deep .mat-paginator-container .mat-select-value{font-family:Montserrat,sans-serif;font-style:normal;font-weight:400;font-size:14px;line-height:24px;color:#b1b1b1}:host ::ng-deep .mat-paginator-container .mat-paginator-icon{width:24px}.btn-standard{box-shadow:1px 3px 4px #00000040;border:none;font-style:normal;font-weight:500;font-size:14px;line-height:16px;align-items:center;padding:5px 10px;margin:auto}.btn-standard.blue{background:#4482b3;color:#fff}.btn-standard.green{background:#50bd61;color:#fff}.btn-standard.magenta{background:#800080;color:#fff}.btn-standard.orange{background:#FF6633;color:#fff}\n"] }]
        }], ctorParameters: function () { return []; }, propDecorators: { paginator: [{
                type: ViewChild,
                args: [MatPaginator]
            }], data: [{
                type: Input
            }], showFirstLastButtons: [{
                type: Input
            }], pageSizeOptions: [{
                type: Input
            }], totalData: [{
                type: Input
            }], pageSize: [{
                type: Input
            }], pageIndex: [{
                type: Input
            }], header: [{
                type: Input
            }], listbtn: [{
                type: Input
            }], libelleActionBtn: [{
                type: Input
            }], _sort: [{
                type: Output
            }], _pageEvent: [{
                type: Output
            }], checkboxOrRadio: [{
                type: Input
            }], checkboxColor: [{
                type: Input
            }], selectvalue: [{
                type: Output
            }], hasPaginator: [{
                type: Input
            }], hasStatus: [{
                type: Input
            }], classSatuts: [{
                type: Input
            }], ClickEventValue: [{
                type: Output
            }], ligne: [{
                type: Output
            }], language: [{
                type: Input
            }], sort: [{
                type: ViewChild,
                args: [MatSort]
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGFibGUuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvaWd5LXRlbXBsYXRlcy1tb2R1bGVzL3NyYy9saWIvY29tcG9zYW50cy90YWJsZS90YWJsZS5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9pZ3ktdGVtcGxhdGVzLW1vZHVsZXMvc3JjL2xpYi9jb21wb3NhbnRzL3RhYmxlL3RhYmxlLmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFDTCxTQUFTLEVBQ1QsS0FBSyxFQUVMLFNBQVMsRUFDVCxZQUFZLEVBQ1osTUFBTSxHQUNQLE1BQU0sZUFBZSxDQUFDO0FBRXZCLE9BQU8sRUFBRSxZQUFZLEVBQXNCLE1BQU0sNkJBQTZCLENBQUM7QUFDL0UsT0FBTyxFQUFFLE9BQU8sRUFBUSxNQUFNLHdCQUF3QixDQUFDO0FBQ3ZELE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxNQUFNLHlCQUF5QixDQUFDO0FBQzdELE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSwwQkFBMEIsQ0FBQzs7Ozs7Ozs7O0FBb0MxRCxNQUFNLE9BQU8sY0FBYztJQXNGekI7UUFqRkEsOENBQThDO1FBQ3JDLHlCQUFvQixHQUFZLElBQUksQ0FBQztRQUU5QywyQ0FBMkM7UUFDbEMsb0JBQWUsR0FBYSxDQUFDLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFXakQsZ0RBQWdEO1FBQ3ZDLFdBQU0sR0FBaUIsRUFBRSxDQUFDO1FBRW5DLHNCQUFzQjtRQUNiLFlBQU8sR0FBZ0IsRUFBRSxDQUFDO1FBRW5DLGdDQUFnQztRQUN2QixxQkFBZ0IsR0FBVyxTQUFTLENBQUM7UUFFOUMsc0JBQXNCO1FBQ1osVUFBSyxHQUFHLElBQUksWUFBWSxFQUFXLENBQUM7UUFFOUMsMkJBQTJCO1FBQ2pCLGVBQVUsR0FBRyxJQUFJLFlBQVksRUFBVyxD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SztnQkFHRyxlQUFlO3NCQUF2QixLQUFLO2dCQUdHLFNBQVM7c0JBQWpCLEtBQUs7Z0JBR0csUUFBUTtzQkFBaEIsS0FBSztnQkFHRyxTQUFTO3NCQUFqQixLQUFLO2dCQUdHLE1BQU07c0JBQWQsS0FBSztnQkFHRyxPQUFPO3NCQUFmLEtBQUs7Z0JBR0csZ0JBQWdCO3NCQUF4QixLQUFLO2dCQUdJLEtBQUs7c0JBQWQsTUFBTTtnQkFHRyxVQUFVO3NCQUFuQixNQUFNO2dCQUdFLGVBQWU7c0JBQXZCLEtBQUs7Z0JBR0csYUFBYTtzQkFBckIsS0FBSztnQkFHSSxXQUFXO3NCQUFwQixNQUFNO2dCQUdFLFlBQVk7c0JBQXBCLEtBQUs7Z0JBR0csU0FBUztzQkFBakIsS0FBSztnQkFHRyxXQUFXO3NCQUFuQixLQUFLO2dCQUdJLGVBQWU7c0JBQXhCLE1BQU07Z0JBR0csS0FBSztzQkFBZCxNQUFNO2dCQUdFLFFBQVE7c0JBQWhCLEtBQUs7Z0JBVWMsSUFBSTtzQkFBdkIsU0FBUzt1QkFBQyxPQUFPIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcclxuICBDb21wb25lbnQsXHJcbiAgSW5wdXQsXHJcbiAgT25Jbml0LFxyXG4gIFZpZXdDaGlsZCxcclxuICBFdmVudEVtaXR0ZXIsXHJcbiAgT3V0cHV0LFxyXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBUaGVtZVBhbGV0dGUgfSBmcm9tICdAYW5ndWxhci9tYXRlcmlhbC9jb3JlJztcclxuaW1wb3J0IHsgTWF0UGFnaW5hdG9yLCBNYXRQYWdpbmF0b3JNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9tYXRlcmlhbC9wYWdpbmF0b3InO1xyXG5pbXBvcnQgeyBNYXRTb3J0LCBTb3J0IH0gZnJvbSAnQGFuZ3VsYXIvbWF0ZXJpYWwvc29ydCc7XHJcbmltcG9ydCB7IE1hdFRhYmxlRGF0YVNvdXJjZSB9IGZyb20gJ0Bhbmd1bGFyL21hdGVyaWFsL3RhYmxlJztcclxuaW1wb3J0IHsgU2VsZWN0aW9uTW9kZWwgfSBmcm9tICdAYW5ndWxhci9jZGsvY29sbGVjdGlvbnMnO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBFbnRldGVEYXRhIHtcclxuICBsaWJlbGxlOiBzdHJpbmc7XHJcbiAgcHJvcGVydHluYW1lOiBzdHJpbmc7XHJcbn1cclxuXHJcbi8vIHR5cGUgQnRuRnVuY3Rpb24gPSAodmFsdWU6IGFueSkgPT4gdm9pZDtcclxudHlwZSByYWRpb09yQ2hlY2tib3ggPSAncmFkaW8nIHwgJ2NoZWNrYm94JyB8IHVuZGVmaW5lZDtcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgdHJhbnNsYXRlIHtcclxuICBpdGVtc1BlclBhZ2VMYWJlbDogc3RyaW5nO1xyXG4gIG5leHRQYWdlTGFiZWw6IHN0cmluZztcclxuICBwcmV2aW91c1BhZ2VMYWJlbDogc3RyaW5nO1xyXG4gIGZpcnN0UGFnZUxhYmVsOiBzdHJpbmc7XHJcbiAgbGFzdFBhZ2VMYWJlbDogc3RyaW5nO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEJ0bkFjdGlvbiB7XHJcbiAgYWN0aW9uOiBzdHJpbmc7XHJcbiAgY2xhc3M6IHN0cmluZztcclxuICBjb2xvcjogVGhlbWVQYWxldHRlO1xyXG4gIGljb25OYW1lOiBzdHJpbmc7XHJcbiAgaXN0ZXh0OiBib29sZWFuO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIHJldG91ckFjdGlvbkJvdXRvbiB7XHJcbiAgZnVuY3Rpb246IHN0cmluZztcclxuICB2YWx1ZTogYW55O1xyXG59XHJcblxyXG5AQ29tcG9uZW50KHtcclxuICBzZWxlY3RvcjogJ2lneS10YWJsZScsXHJcbiAgdGVtcGxhdGVVcmw6ICcuL3RhYmxlLmNvbXBvbmVudC5odG1sJyxcclxuICBzdHlsZVVybHM6IFsnLi90YWJsZS5jb21wb25lbnQuc2NzcyddLFxyXG59KVxyXG5leHBvcnQgY2xhc3MgVGFibGVDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xyXG4gIEBWaWV3Q2hpbGQoTWF0UGFnaW5hdG9yKSBwYWdpbmF0b3IhOiBNYXRQYWdpbmF0b3I7XHJcbiAgLyoqIGRvbm7DqWVzIGEgYWZmaWNoZXIgc3VyIGxhIHRhYmxlICovXHJcbiAgQElucHV0KCkgZGF0YTogYW55W10gfCB1bmRlZmluZWQ7XHJcblxyXG4gIC8qKiBwYWdpbmF0aW9uIGFmZmljaGUgbCBib3V0b24gZGVidXQvZmluICAgKi9cclxuICBASW5wdXQoKSBzaG93Rmlyc3RMYXN0QnV0dG9uczogYm9vbGVhbiA9IHRydWU7XHJcblxyXG4gIC8qKiBwYWdpbmF0aW9uIHZhbGV1ciBjb250ZW51IHBhciBwYWdlICAgKi9cclxuICBASW5wdXQoKSBwYWdlU2l6ZU9wdGlvbnM6IG51bWJlcltdID0gWzUsIDEwLCAyMF07XHJcblxyXG4gIC8qKiB0b3RhbCBkZXMgZG9ubsOpZXMgICovXHJcbiAgQElucHV0KCkgdG90YWxEYXRhITogbnVtYmVyO1xyXG5cclxuICAvKiogdGFpbGxlIGRlIGxhIHBhZ2UgICAqL1xyXG4gIEBJbnB1dCgpIHBhZ2VTaXplITogbnVtYmVyO1xyXG5cclxuICAvKiogaW5kZXggZGUgbGEgcGFnZSAgICovXHJcbiAgQElucHV0KCkgcGFnZUluZGV4ITogbnVtYmVyO1xyXG5cclxuICAvKiogaGVhZGVyIGFmZmljaGVyIHBhcm1pcyBsZSBjb250ZW51IGRlIGRhdGEgKi9cclxuICBASW5wdXQoKSBoZWFkZXI6IEVudGV0ZURhdGFbXSA9IFtdO1xyXG5cclxuICAvKipsaXN0ZSBkZXMgYm91dG9uICovXHJcbiAgQElucHV0KCkgbGlzdGJ0bjogQnRuQWN0aW9uW10gPSBbXTtcclxuXHJcbiAgLyoqIG5vbSBoZWFkZXIgcG91ciBsZXMgYm91dG9uKi9cclxuICBASW5wdXQoKSBsaWJlbGxlQWN0aW9uQnRuOiBzdHJpbmcgPSAnQWN0aW9ucyc7XHJcblxyXG4gIC8qKiDDqXbDqG5lbm1lbnQgc29ydCAqL1xyXG4gIEBPdXRwdXQoKSBfc29ydCA9IG5ldyBFdmVudEVtaXR0ZXI8Ym9vbGVhbj4oKTtcclxuXHJcbiAgLyoqIMOpdsOobmVubWVudCBwYWdpbmF0b3IgKi9cclxuICBAT3V0cHV0KCkgX3BhZ2VFdmVudCA9IG5ldyBFdmVudEVtaXR0ZXI8Ym9vbGVhbj4oKTtcclxuXHJcbiAgLyoqIGNob2l4IHV0aWxpc2VyIGVudHJlIGNoZWNrYm94IG91IHJhZGlvIGJ0biAqL1xyXG4gIEBJbnB1dCgpIGNoZWNrYm94T3JSYWRpbzogcmFkaW9PckNoZWNrYm94ID0gdW5kZWZpbmVkO1xyXG5cclxuICAvKiogY291bGV1ciB1dGlsaXPDqSBzdXIgY2hlY2tib3ggb3UgcmFkaW8gYnRuICovXHJcbiAgQElucHV0KCkgY2hlY2tib3hDb2xvcjogVGhlbWVQYWxldHRlID0gJ3ByaW1hcnknO1xyXG5cclxuICAvKiogw6l2w6huZW5tZW50IHJhZGlvYnRuIHNlbGVjdCBlbGVtZW50ICovXHJcbiAgQE91dHB1dCgpIHNlbGVjdHZhbHVlID0gbmV3IEV2ZW50RW1pdHRlcjxib29sZWFuPigpO1xyXG5cclxuICAvLyBBZmZpY2VyIFBhZ2luYXRpb25cclxuICBASW5wdXQoKSBoYXNQYWdpbmF0b3I6IGJvb2xlYW4gPSB0cnVlO1xyXG5cclxuICAvLyBHZXN0aW9uIHN0YXR1c1xyXG4gIEBJbnB1dCgpIGhhc1N0YXR1czogc3RyaW5nID0gJyc7XHJcblxyXG4gIC8vIFN0YXR1cyBDbGFzc1xyXG4gIEBJbnB1dCgpIGNsYXNzU2F0dXRzOiBzdHJpbmcgPSAnJztcclxuXHJcbiAgLyoqIMOpdsOobmVubWVudCBBY3Rpb24gY2xpY2sgKi9cclxuICBAT3V0cHV0KCkgQ2xpY2tFdmVudFZhbHVlID0gbmV3IEV2ZW50RW1pdHRlcjxib29sZWFuPigpO1xyXG5cclxuICAvKiogw6l2ZW5lbWVudCBib3V0b24gZGFucyBsYSB0YWJsZSovXHJcbiAgQE91dHB1dCgpIGxpZ25lID0gbmV3IEV2ZW50RW1pdHRlcjxyZXRvdXJBY3Rpb25Cb3V0b24+KCk7XHJcblxyXG4gIC8qKiB0ZXh0IHBvdXIgbGEgbGFuZ3VlICovXHJcbiAgQElucHV0KCkgbGFuZ3VhZ2U6IHRyYW5zbGF0ZSA9IHtcclxuICAgIGl0ZW1zUGVyUGFnZUxhYmVsOiAnSXRlbXMgcGVyIHBhZ2U6JyxcclxuICAgIG5leHRQYWdlTGFiZWw6ICdOZXh0IHBhZ2UnLFxyXG4gICAgcHJldmlvdXNQYWdlTGFiZWw6ICdQcmV2aW91cyBwYWdlJyxcclxuICAgIGZpcnN0UGFnZUxhYmVsOiAnRmlyc3QgcGFnZScsXHJcbiAgICBsYXN0UGFnZUxhYmVsOiAnTGFzdCBwYWdlJyxcclxuICB9O1xyXG5cclxuICBoZWFkZXJDb2x1bW46IGFueVtdID0gW107XHJcbiAgZGF0YVNvdXJjZSE6IE1hdFRhYmxlRGF0YVNvdXJjZTxhbnk+O1xyXG4gIEBWaWV3Q2hpbGQoTWF0U29ydCkgc29ydCE6IE1hdFNvcnQ7XHJcbiAgc2VsZWN0aW9uID0gbmV3IFNlbGVjdGlvbk1vZGVsPGFueT4odHJ1ZSwgW10pO1xyXG4gIHJhZGlvU2VsZWN0ZWQhOiBPYmplY3Q7XHJcblxyXG4gIG5nQWZ0ZXJWaWV3SW5pdCgpIHtcclxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICB0aGlzLmRhdGFTb3VyY2UgPSBuZXcgTWF0VGFibGVEYXRhU291cmNlPGFueT4odGhpcy5kYXRhKTtcclxuICAgICAgdGhpcy5kYXRhU291cmNlLnBhZ2luYXRvciA9IHRoaXMucGFnaW5hdG9yO1xyXG4gICAgICB0aGlzLmRhdGFTb3VyY2Uuc29ydCA9IHRoaXMuc29ydDtcclxuICAgICAgLyoqIGluaXRpYWxpc2UgbCdhZmZpY2hhZ2UgZGVzIHRleHRlICovXHJcbiAgICAgIHRoaXMuaW5pdFRleHRQYWdpbmF0aW9uKCk7XHJcbiAgICAgIC8qKiBpbml0aWFsaXNlIGxlIGNvbnRlbnUgZHUgdGFibGVhdSAqL1xyXG4gICAgICB0aGlzLmluaXRDb250ZW51KCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGNvbnN0cnVjdG9yKCkge31cclxuXHJcbiAgbmdPbkluaXQoKTogdm9pZCB7fVxyXG5cclxuICBpbml0Q29udGVudSgpIHtcclxuICAgIC8qKiB0ZXN0IHNpIGxlcyBkb25uw6llcyByZcOndSBuZSBzb250IHBhcyB2aWRlICovXHJcbiAgICBpZiAodGhpcy5kYXRhU291cmNlLmRhdGEubGVuZ3RoID4gMCkge1xyXG4gICAgICAvKiogdGVzdCBzaSBsZSBoZWFkZXIgdHlwZSBFbnRldGVEYXRhIGEgw6l0w6kgaW5pdGlhbGlzZXIgKi9cclxuICAgICAgaWYgKCF0aGlzLmhlYWRlci5sZW5ndGgpIHtcclxuICAgICAgICB0aGlzLmhlYWRlciA9IE9iamVjdC5rZXlzKHRoaXMuZGF0YVNvdXJjZS5kYXRhWzBdKS5tYXAoKGUpID0+IHtcclxuICAgICAgICAgIHJldHVybiB7IGxpYmVsbGU6IGUsIHByb3BlcnR5bmFtZTogZSB9O1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBpZiAodGhpcy5zaG93Q2xhc2ljQnRuKSB7XHJcbiAgICAgIC8vICAgLyoqIEFqb3V0IGNvbG9ubmUgQWN0aW9uIHNpIGJvdXRvbiBjbGFzaWMgZXN0IGFjdGlmICovXHJcbiAgICAgIC8vICAgdGhpcy5oZWFkZXIucHVzaCh7XHJcbiAgICAgIC8vICAgICBsaWJlbGxlOiB0aGlzLmxpYmVsbGVBY3Rpb25CdG4sXHJcbiAgICAgIC8vICAgICBwcm9wZXJ0eW5hbWU6ICcnLFxyXG4gICAgICAvLyAgIH0pO1xyXG4gICAgICAvLyB9XHJcblxyXG4gICAgICBpZiAodGhpcy5saXN0YnRuLmxlbmd0aCkge1xyXG4gICAgICAgIC8qKiBBam91dCBjb2xvbm5lIEFjdGlvbiBzaSB1biBib3V0b24gZXN0IGFjdGlmICovXHJcbiAgICAgICAgdGhpcy5oZWFkZXIucHVzaCh7XHJcbiAgICAgICAgICBsaWJlbGxlOiB0aGlzLmxpYmVsbGVBY3Rpb25CdG4sXHJcbiAgICAgICAgICBwcm9wZXJ0eW5hbWU6ICcnLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvKiogQWpvdXQgc2VsZWN0IGRhbnMgbGliZWxsZSAqL1xyXG4gICAgICBpZiAodGhpcy5jaGVja2JveE9yUmFkaW8pIHtcclxuICAgICAgICB0aGlzLmhlYWRlci51bnNoaWZ0KHsgbGliZWxsZTogJ3NlbGVjdCcsIHByb3BlcnR5bmFtZTogJycgfSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8qKiBhZmZlY3RhdGlvbiBsaWJlbGxlIGRhbnMgaGVhZGVyQ29sdW1uICovXHJcbiAgICAgIHRoaXMuaGVhZGVyQ29sdW1uID0gdGhpcy5oZWFkZXIubWFwKChjb2wpID0+IGNvbC5saWJlbGxlKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKiBpbml0aWFsaXNhdGlvbiBhZmZpY2hhZ2UgbGFuZ3VlIGV0IHBhZ2luYXRpb24gKi9cclxuICBpbml0VGV4dFBhZ2luYXRpb24oKSB7XHJcbiAgICB0aGlzLnBhZ2luYXRvci5faW50bC5maXJzdFBhZ2VMYWJlbCA9IHRoaXMubGFuZ3VhZ2UuZmlyc3RQYWdlTGFiZWw7XHJcbiAgICB0aGlzLnBhZ2luYXRvci5faW50bC5pdGVtc1BlclBhZ2VMYWJlbCA9IHRoaXMubGFuZ3VhZ2UuaXRlbXNQZXJQYWdlTGFiZWw7XHJcbiAgICB0aGlzLnBhZ2luYXRvci5faW50bC5sYXN0UGFnZUxhYmVsID0gdGhpcy5sYW5ndWFnZS5sYXN0UGFnZUxhYmVsO1xyXG4gICAgdGhpcy5wYWdpbmF0b3IuX2ludGwubmV4dFBhZ2VMYWJlbCA9IHRoaXMubGFuZ3VhZ2UubmV4dFBhZ2VMYWJlbDtcclxuICAgIHRoaXMucGFnaW5hdG9yLl9pbnRsLnByZXZpb3VzUGFnZUxhYmVsID0gdGhpcy5sYW5ndWFnZS5wcmV2aW91c1BhZ2VMYWJlbDtcclxuICAgIHRoaXMucGFnaW5hdG9yLl9pbnRsLmdldFJhbmdlTGFiZWwgPSB0aGlzLmdldFJhbmdlTGFiZWw7XHJcbiAgfVxyXG5cclxuICAvKiogcmVkZWZpbml0aW9uIGRlIGdldFJhbmdlTGFiZWwgZGFucyBwYWdpbmF0b3IgKi9cclxuICBwdWJsaWMgZ2V0UmFuZ2VMYWJlbCA9IChcclxuICAgIHBhZ2U6IG51bWJlcixcclxuICAgIHBhZ2VTaXplOiBudW1iZXIsXHJcbiAgICBsZW5ndGg6IG51bWJlclxyXG4gICk6IHN0cmluZyA9PiB7XHJcbiAgICB0aGlzLnRvdGFsRGF0YSA9IHRoaXMudG90YWxEYXRhID8gdGhpcy50b3RhbERhdGEgOiB0aGlzLnBhZ2luYXRvci5sZW5ndGg7XHJcbiAgICB0aGlzLnBhZ2VJbmRleCA9IHRoaXMucGFnZUluZGV4ID8gdGhpcy5wYWdlSW5kZXggOiB0aGlzLnBhZ2luYXRvci5wYWdlSW5kZXg7XHJcbiAgICB0aGlzLnBhZ2VTaXplID0gdGhpcy5wYWdlU2l6ZSA/IHRoaXMucGFnZVNpemUgOiB0aGlzLnBhZ2luYXRvci5wYWdlU2l6ZTtcclxuICAgIGlmICh0aGlzLnRvdGFsRGF0YSA9PT0gMCB8fCB0aGlzLnBhZ2VTaXplID09PSAwKSB7XHJcbiAgICAgIHJldHVybiBgamF2YXNjcmlwdFwiPjAgLyAke3RoaXMudG90YWxEYXRhfWA7XHJcbiAgICB9XHJcbiAgICB0aGlzLnRvdGFsRGF0YSA9IE1hdGgubWF4KHRoaXMudG90YWxEYXRhLCAwKTtcclxuICAgIGNvbnN0IHN0YXJ0SW5kZXg6IG51bWJlciA9IHBhZ2UgKiArdGhpcy5wYWdlU2l6ZTtcclxuICAgIGNvbnN0IGVuZEluZGV4OiBudW1iZXIgPVxyXG4gICAgICBzdGFydEluZGV4IDwgdGhpcy50b3RhbERhdGFcclxuICAgICAgICA/IE1hdGgubWluKHN0YXJ0SW5kZXggKyB0aGlzLnBhZ2VTaXplLCB0aGlzLnRvdGFsRGF0YSlcclxuICAgICAgICA6IHN0YXJ0SW5kZXggKyB0aGlzLnBhZ2VTaXplO1xyXG4gICAgcmV0dXJuIGAke3N0YXJ0SW5kZXggKyAxfSAtICR7ZW5kSW5kZXh9IC8gJHsrdGhpcy50b3RhbERhdGF9YDtcclxuICB9O1xyXG5cclxuICAvKiogc29ydCBkYXRhICovXHJcbiAgc29ydENoYW5nZShzb3J0U3RhdGU6IFNvcnQgfCBhbnkpIHtcclxuICAgIHRoaXMuX3NvcnQuZW1pdChzb3J0U3RhdGUpO1xyXG4gIH1cclxuXHJcbiAgLyoqIGV2ZW50IHBhZ2luYXRlICovXHJcbiAgcGFnZUV2ZW50KGV2ZW50OiBhbnkpIHtcclxuICAgIHRoaXMuX3BhZ2VFdmVudC5lbWl0KGV2ZW50KTtcclxuICB9XHJcblxyXG4gIC8qKiBJbmRpcXVlIHNpIGxlIG5vbWJyZSBkJ8OpbMOpbWVudHMgc8OpbGVjdGlvbm7DqXMgY29ycmVzcG9uZCBhdSBub21icmUgdG90YWwgZGUgbGlnbmVzLlxyXG4gICAqL1xyXG4gIGlzQWxsU2VsZWN0ZWQoKSB7XHJcbiAgICBjb25zdCBudW1TZWxlY3RlZCA9IHRoaXMuc2VsZWN0aW9uLnNlbGVjdGVkLmxlbmd0aDtcclxuICAgIGNvbnN0IG51bVJvd3MgPSB0aGlzLmRhdGFTb3VyY2UuZGF0YS5sZW5ndGg7XHJcbiAgICByZXR1cm4gbnVtU2VsZWN0ZWQgPT09IG51bVJvd3M7XHJcbiAgfVxyXG5cclxuICAvKiogU2VsZWN0aW9ubmUgdG91cyBsZXMgbGlnbmUgc2kgaWwgbmUgc29udCBwYXMgdG91cyBzZWxlY3Rpb25uZXI7IHNpbm9uIGRlc2VsZWN0aW9ubmUgdG91dHMgKi9cclxuICBtYXN0ZXJUb2dnbGUoKSB7XHJcbiAgICBpZiAodGhpcy5pc0FsbFNlbGVjdGVkKCkpIHtcclxuICAgICAgdGhpcy5zZWxlY3Rpb24uY2xlYXIoKTtcclxuICAgICAgdGhpcy5zZWxlY3RSb3codGhpcy5zZWxlY3Rpb24uc2VsZWN0ZWQpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICB0aGlzLnNlbGVjdGlvbi5zZWxlY3QoLi4udGhpcy5kYXRhU291cmNlLmRhdGEpO1xyXG4gICAgdGhpcy5zZWxlY3RSb3codGhpcy5zZWxlY3Rpb24uc2VsZWN0ZWQpO1xyXG4gIH1cclxuXHJcbiAgLyoqIExlIGxpYmVsbMOpIGRlIGxhIGNhc2Ugw6AgY29jaGVyIHN1ciBsYSBsaWduZSB0cmFuc21pc2UgKi9cclxuICBjaGVja2JveExhYmVsKHJvdz86IGFueSk6IHN0cmluZyB7XHJcbiAgICB2YXIgcmVzdWx0OiBzdHJpbmc7XHJcbiAgICBpZiAoIXJvdykge1xyXG4gICAgICByZXN1bHQgPSBgJHt0aGlzLmlzQWxsU2VsZWN0ZWQoKSA/ICdkZXNlbGVjdCcgOiAnc2VsZWN0J30gYWxsYDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJlc3VsdCA9IGAke3RoaXMuc2VsZWN0aW9uLmlzU2VsZWN0ZWQocm93KSA/ICdkZXNlbGVjdCcgOiAnc2VsZWN0J30gcm93ICR7XHJcbiAgICAgICAgcm93LnBvc2l0aW9uICsgMVxyXG4gICAgICB9YDtcclxuICAgIH1cclxuICAgIHRoaXMuc2VsZWN0Um93KHRoaXMuc2VsZWN0aW9uLnNlbGVjdGVkKTtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbiAgfVxyXG5cclxuICAvKiogcmV0b3VybiBsYSBsaXN0ZSBzZWxlY3Rpb25uZXIgKi9cclxuICBzZWxlY3RSb3codmFsdWU6IGFueSkge1xyXG4gICAgdGhpcy5zZWxlY3R2YWx1ZS5lbWl0KHZhbHVlKTtcclxuICB9XHJcblxyXG4gIC8qKiB0ZXN0IGhlYWRlciBhY3Rpb24gbGliZWxsZSAqL1xyXG4gIGlzQWN0aW9uKGl0ZW06IHN0cmluZykge1xyXG4gICAgcmV0dXJuIGl0ZW0gPT09IHRoaXMubGliZWxsZUFjdGlvbkJ0bjtcclxuICB9XHJcblxyXG4gIC8qKiB0ZXN0IGhlYWRlciBzZWxlY3QgbGliZWxsZSAqL1xyXG4gIGlzU2VsZWN0KGl0ZW06IGFueSkge1xyXG4gICAgcmV0dXJuIGl0ZW0gPT09ICdzZWxlY3QnO1xyXG4gIH1cclxuXHJcbiAgLyoqIHRlc3Qgc2kgY2hlY2tib3ggdXRpbGlzw6kgb3UgZmFsc2UgcmFkaW8gKi9cclxuICBpc0NoZWNrYm94KCkge1xyXG4gICAgcmV0dXJuIHRoaXMuY2hlY2tib3hPclJhZGlvID09PSAnY2hlY2tib3gnO1xyXG4gIH1cclxuXHJcbiAgLyoqIHNlbGVjdGlvbiBlbGVtZW50IHN1ciBjbGljayBkZSBsYSBsaWduZSAqL1xyXG4gIGNoZWNrTGluZShyb3c6IGFueSwgaW5kZXg6IG51bWJlcikge1xyXG4gICAgaWYgKCF0aGlzLmlzQ2hlY2tib3goKSAmJiB0aGlzLmNoZWNrYm94T3JSYWRpbykge1xyXG4gICAgICB0aGlzLnJhZGlvU2VsZWN0ZWQgPSByb3c7XHJcbiAgICAgIHRoaXMuc2VsZWN0Um93KHJvdyk7XHJcbiAgICB9IGVsc2UgaWYgKHRoaXMuY2hlY2tib3hPclJhZGlvKSB7XHJcbiAgICAgIHRoaXMuc2VsZWN0aW9uLnRvZ2dsZShyb3cpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgRXZlbnRDbGlja0J0bihldmVudDogYW55KSB7XHJcbiAgICB0aGlzLkNsaWNrRXZlbnRWYWx1ZS5lbWl0KGV2ZW50KTtcclxuICB9XHJcblxyXG4gIGdldExpbmUodHh0OiBzdHJpbmcsIHZhbHVlPzogYW55KSB7XHJcbiAgICB0aGlzLmxpZ25lLmVtaXQoe1xyXG4gICAgICBmdW5jdGlvbjogdHh0LFxyXG4gICAgICB2YWx1ZTogdmFsdWUsXHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuIiwiPGRpdiBjbGFzcz1cImlneS10YWJsZVwiPlxyXG4gIDx0YWJsZSBtYXQtdGFibGUgW2RhdGFTb3VyY2VdPVwiZGF0YVNvdXJjZVwiIG1hdFNvcnQgKG1hdFNvcnRDaGFuZ2UpPVwic29ydENoYW5nZSgkZXZlbnQpXCI+XHJcbiAgICA8bmctY29udGFpbmVyIFttYXRDb2x1bW5EZWZdPVwiaXRlbS5saWJlbGxlXCIgKm5nRm9yPVwibGV0IGl0ZW0gb2YgaGVhZGVyOyBsZXQgaSA9IGluZGV4XCI+XHJcbiAgICAgIDx0aCBtYXQtaGVhZGVyLWNlbGwgbWF0LXNvcnQtaGVhZGVyICptYXRIZWFkZXJDZWxsRGVmXHJcbiAgICAgICAgW2Rpc2FibGVkXT1cImlzQWN0aW9uKGl0ZW0ubGliZWxsZSkgfHwgaXNTZWxlY3QoaXRlbS5saWJlbGxlKVwiXHJcbiAgICAgICAgW25nQ2xhc3NdPVwieyAnY29sLWFjdGlvbi1jbnQnOiBpdGVtLmxpYmVsbGUgPT09IGxpYmVsbGVBY3Rpb25CdG4gfVwiPlxyXG4gICAgICAgIDxzcGFuICpuZ0lmPVwiIWlzU2VsZWN0KGl0ZW0ubGliZWxsZSk7IGVsc2UgY2hlY2tib3hoZWFkZXJcIj57e1xyXG4gICAgICAgICAgaXRlbS5saWJlbGxlXHJcbiAgICAgICAgICB9fTwvc3Bhbj5cclxuICAgICAgICA8bmctdGVtcGxhdGUgI2NoZWNrYm94aGVhZGVyPlxyXG4gICAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdJZj1cImlzQ2hlY2tib3goKVwiPlxyXG4gICAgICAgICAgICA8bWF0LWNoZWNrYm94IChjaGFuZ2UpPVwiJGV2ZW50ID8gbWFzdGVyVG9nZ2xlKCkgOiBudWxsXCIgW2NoZWNrZWRdPVwic2VsZWN0aW9uLmhhc1ZhbHVlKCkgJiYgaXNBbGxTZWxlY3RlZCgpXCJcclxuICAgICAgICAgICAgICBbY29sb3JdPVwiY2hlY2tib3hDb2xvclwiIFtpbmRldGVybWluYXRlXT1cInNlbGVjdGlvbi5oYXNWYWx1ZSgpICYmICFpc0FsbFNlbGVjdGVkKClcIlxyXG4gICAgICAgICAgICAgIFthcmlhLWxhYmVsXT1cImNoZWNrYm94TGFiZWwoKVwiPlxyXG4gICAgICAgICAgICA8L21hdC1jaGVja2JveD5cclxuICAgICAgICAgIDwvbmctY29udGFpbmVyPlxyXG4gICAgICAgIDwvbmctdGVtcGxhdGU+XHJcbiAgICAgIDwvdGg+XHJcbiAgICAgIDx0ZCBtYXQtY2VsbCAqbWF0Q2VsbERlZj1cImxldCBlbGVtZW50OyBsZXQgcm93SW5kZXggPSBpbmRleFwiXHJcbiAgICAgICAgW25nQ2xhc3NdPVwieyAnY29sLWFjdGlvbi1jbnQnOiBpdGVtLmxpYmVsbGUgPT09IGxpYmVsbGVBY3Rpb25CdG4gfVwiPlxyXG4gICAgICAgIDxzcGFuICpuZ0lmPVwiIWlzQWN0aW9uKGl0ZW0ubGliZWxsZSkgJiYgIWlzU2VsZWN0KGl0ZW0ubGliZWxsZSk7IGVsc2UgYXV0cmVcIiBbbmdDbGFzc109XCJpdGVtLmxpYmVsbGUgPT09IGhhc1N0YXR1cyA/IGNsYXNzU2F0dXRzIDogJydcIj5cclxuICAgICAgICAgIHt7IGVsZW1lbnRbaXRlbS5wcm9wZXJ0eW5hbWVdIH19XHJcbiAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgIDxuZy10ZW1wbGF0ZSAjYXV0cmU+XHJcbiAgICAgICAgICA8bmctY29udGFpbmVyICpuZ0lmPVwiaXNBY3Rpb24oaXRlbS5saWJlbGxlKTsgZWxzZSBjaGVja2JveFJhZGlvXCI+XHJcbiAgICAgICAgICAgIDxidXR0b24gbWF0LWJ1dHRvbiBjbGFzcz1cInRhYmxlLWJ0blwiIFtuZ0NsYXNzXT1cImJ0bi5jbGFzc1wiIFtjb2xvcl09XCJidG4uY29sb3JcIiAoY2xpY2spPVwiZ2V0TGluZShidG4uYWN0aW9uLCBlbGVtZW50KVwiXHJcbiAgICAgICAgICAgICAgKm5nRm9yPVwibGV0IGJ0biBvZiBsaXN0YnRuOyBsZXQgaiA9IGluZGV4XCI+XHJcbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJtYXRlcmlhbC1pY29uc1wiICpuZ0lmPVwiIWJ0bi5pc3RleHRcIj57eyBidG4uaWNvbk5hbWUgfX08L3NwYW4+XHJcbiAgICAgICAgICAgICAgPHNwYW4gKm5nSWY9XCJidG4uaXN0ZXh0XCIgY2xhc3M9XCJ7e2J0bi5jbGFzc319XCI+e3sgYnRuLmljb25OYW1lIH19PC9zcGFuPlxyXG4gICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgIDwvbmctY29udGFpbmVyPlxyXG4gICAgICAgICAgPG5nLXRlbXBsYXRlICNjaGVja2JveFJhZGlvPlxyXG4gICAgICAgICAgICA8bmctY29udGFpbmVyICpuZ0lmPVwiaXNDaGVja2JveCgpXCI+XHJcbiAgICAgICAgICAgICAgPG1hdC1jaGVja2JveCAoY2xpY2spPVwiJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXCIgKGNoYW5nZSk9XCIkZXZlbnQgPyBzZWxlY3Rpb24udG9nZ2xlKGVsZW1lbnQpIDogbnVsbFwiXHJcbiAgICAgICAgICAgICAgICBbY29sb3JdPVwiY2hlY2tib3hDb2xvclwiIFtjaGVja2VkXT1cInNlbGVjdGlvbi5pc1NlbGVjdGVkKGVsZW1lbnQpXCIgW2FyaWEtbGFiZWxdPVwiY2hlY2tib3hMYWJlbChlbGVtZW50KVwiPlxyXG4gICAgICAgICAgICAgIDwvbWF0LWNoZWNrYm94PlxyXG4gICAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cclxuICAgICAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdJZj1cIiFpc0NoZWNrYm94KClcIj5cclxuICAgICAgICAgICAgICA8bWF0LXJhZGlvLWJ1dHRvbiBbY29sb3JdPVwiY2hlY2tib3hDb2xvclwiIG5hbWU9XCJTZWxlY3Rpb25SYWRpb1wiIFt2YWx1ZV09XCJlbGVtZW50XCJcclxuICAgICAgICAgICAgICAgIChjbGljayk9XCJzZWxlY3RSb3coZWxlbWVudClcIiAoY2hhbmdlKT1cIiRldmVudCA/IChyYWRpb1NlbGVjdGVkID0gJGV2ZW50LnZhbHVlKSA6IG51bGxcIlxyXG4gICAgICAgICAgICAgICAgW2NoZWNrZWRdPVwiZWxlbWVudCA9PSByYWRpb1NlbGVjdGVkXCI+XHJcbiAgICAgICAgICAgICAgPC9tYXQtcmFkaW8tYnV0dG9uPlxyXG4gICAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cclxuICAgICAgICAgIDwvbmctdGVtcGxhdGU+XHJcbiAgICAgICAgPC9uZy10ZW1wbGF0ZT5cclxuICAgICAgPC90ZD5cclxuICAgIDwvbmctY29udGFpbmVyPlxyXG5cclxuICAgIDx0ciBtYXQtaGVhZGVyLXJvdyAqbWF0SGVhZGVyUm93RGVmPVwiaGVhZGVyQ29sdW1uXCI+PC90cj5cclxuICAgIDx0ciBtYXQtcm93ICptYXRSb3dEZWY9XCJsZXQgcm93OyBsZXQgcm93SW5kZXggPSBpbmRleDsgY29sdW1uczogaGVhZGVyQ29sdW1uXCIgKGNsaWNrKT1cImNoZWNrTGluZShyb3csIHJvd0luZGV4KVwiPlxyXG4gICAgPC90cj5cclxuICA8L3RhYmxlPlxyXG4gIDxtYXQtcGFnaW5hdG9yIFtwYWdlU2l6ZU9wdGlvbnNdPVwicGFnZVNpemVPcHRpb25zXCIgW3Nob3dGaXJzdExhc3RCdXR0b25zXT1cInNob3dGaXJzdExhc3RCdXR0b25zXCIgW2xlbmd0aF09XCJ0b3RhbERhdGFcIlxyXG4gICAgW3BhZ2VTaXplXT1cInBhZ2VTaXplXCIgW3BhZ2VJbmRleF09XCJwYWdlSW5kZXhcIiAocGFnZSk9XCJwYWdlRXZlbnQoJGV2ZW50KVwiICpuZ0lmPVwiaGFzUGFnaW5hdG9yXCI+XHJcbiAgPC9tYXQtcGFnaW5hdG9yPlxyXG48L2Rpdj5cclxuIl19